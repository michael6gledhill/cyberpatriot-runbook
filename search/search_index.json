{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#cyberpatriot-runbook-documentation","title":"CyberPatriot Runbook Documentation","text":"<p>Professional user and operator guide for the CyberPatriot Runbook desktop application.</p> <p>This site covers installation, configuration, role-based workflows, and troubleshooting. The app is a PySide6 desktop client using MySQL with SQLAlchemy and Alembic.</p> <p>Quick Start - Install Python dependencies: <code>pip install -r requirements.txt</code> - Configure <code>DATABASE_URL</code> (MySQL): see Setup - Initialize DB schema: <code>alembic upgrade head</code> - Launch: <code>python main.py</code></p> <p>What You\u2019ll Find Here - Overview: architecture, roles, and data flow - Setup: environment, database, and migration steps - Usage: login/sign-up, dashboards, approvals, and daily tasks - Roles: capabilities for Admin, Coach, Captain, Member - Teams: creation, join requests, and member lifecycle - Dashboards: Admin/Coach/Member features - Security: hashing, encryption, and best practices - Troubleshooting: common issues and fixes</p> <p>Support &amp; Contributions - Open an issue or pull request on GitHub - Follow conventional commits and include clear reproduction steps for bugs</p> <p>Local Docs Preview</p> <pre><code>pip install mkdocs mkdocs-material\nmkdocs serve\n</code></pre> <p>The documentation will be available at http://127.0.0.1:8000/ while serving.</p>"},{"location":"dashboards/","title":"Dashboards","text":""},{"location":"dashboards/#admin-dashboard","title":"Admin Dashboard","text":"<ul> <li>Team Management: create/edit/delete teams, view members.</li> <li>User Approvals: approve/reject pending users.</li> <li>Member Management: view members, change roles (where implemented).</li> <li>Activity Log: shows recent audit entries.</li> </ul>"},{"location":"dashboards/#coach-dashboard","title":"Coach Dashboard","text":"<ul> <li>My Teams: create teams, join existing teams, see members.</li> <li>Team Members: manage approvals (coach scope).</li> <li>Join Requests: approve/reject join requests.</li> <li>Activity Log: coach-scoped logs.</li> </ul>"},{"location":"dashboards/#member-dashboard","title":"Member Dashboard","text":"<ul> <li>Status banner shows team membership/approval state.</li> <li>Tabs: Checklists, READMEs, Notes (per user/team where relevant).</li> </ul>"},{"location":"overview/","title":"Overview","text":"<p>CyberPatriot Runbook is a desktop application (PySide6) that helps teams manage roles, teams, join requests, checklists, notes, and audit logs for CyberPatriot competitions. It uses MySQL with SQLAlchemy, a repository layer, and role-aware dashboards for admins, coaches, captains, and members.</p>"},{"location":"overview/#architecture","title":"Architecture","text":"<ul> <li>UI: PySide6 (Qt) with dedicated dashboards per role</li> <li>Backend: SQLAlchemy ORM with repository layer</li> <li>Database: MySQL (schema in <code>database_setup.sql</code>)</li> <li>Security: bcrypt-based hashing, PBKDF2-HMAC encryption helpers</li> <li>Roles: <code>admin</code>, <code>coach</code>, <code>captain</code>, <code>member</code></li> </ul>"},{"location":"overview/#key-features","title":"Key Features","text":"<ul> <li>Account creation with role selection and approval flow</li> <li>Team creation, join requests, and membership approvals</li> <li>Dashboards tailored to role capabilities</li> <li>Checklists, READMEs, notes, and audit logging</li> <li>MySQL-backed data persistence with repositories</li> </ul>"},{"location":"overview/#data-flow","title":"Data Flow","text":"<ol> <li>UI triggers repository calls (no direct session handling in UI).</li> <li>Repositories open/close sessions and return ORM objects (with eager-loaded relationships).</li> <li>GUI displays data and emits actions back to repositories/controllers.</li> </ol>"},{"location":"pi-setup/","title":"Raspberry Pi (CasaOS) Backend Setup","text":"<p>This guide walks through installing and configuring the CyberPatriot Runbook backend on a Raspberry Pi running CasaOS. These steps avoid Python virtual environments and install system-wide packages.</p>"},{"location":"pi-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Raspberry Pi (64-bit OS recommended) with CasaOS installed</li> <li>MySQL server installed and running (local or remote)</li> <li>A MySQL user/password and the database name you will use (e.g., <code>cyberpatriot_runbook</code>)</li> <li>Internet connectivity and basic shell access</li> </ul>"},{"location":"pi-setup/#1-update-system-and-install-dependencies","title":"1. Update System and Install Dependencies","text":"<p>Update APT and install required packages and Python dependencies:</p> <pre><code>sudo apt update\nsudo apt install -y python3 python3-pip git build-essential libssl-dev libffi-dev\n</code></pre> <p>Notes: - <code>python3-pip</code> installs pip system-wide (no virtualenv used). - <code>build-essential</code> and OpenSSL/ffi headers help compile dependencies if needed.</p>"},{"location":"pi-setup/#2-get-the-application-source-code","title":"2. Get the Application Source Code","text":"<p>Clone the repository to your Pi:</p> <pre><code>cd ~\ngit clone https://github.com/michael6gledhill/cyberpatriot-runbook.git\ncd cyberpatriot-runbook\n</code></pre> <p>To update later:</p> <pre><code>git pull\n</code></pre>"},{"location":"pi-setup/#3-install-python-requirements-system-wide","title":"3. Install Python Requirements (System-wide)","text":"<p>Install dependencies listed in <code>requirements.txt</code>:</p> <pre><code>sudo pip3 install --upgrade pip\nsudo pip3 install -r requirements.txt\n</code></pre> <p>Packages installed: - PySide6 (GUI) - SQLAlchemy - PyMySQL - bcrypt - cryptography - Alembic - python-dotenv</p>"},{"location":"pi-setup/#4-prepare-mysql-database","title":"4. Prepare MySQL Database","text":"<p>Log in to MySQL and create the database and a dedicated user. If you already have these, you can skip this step.</p> <pre><code>mysql -u root -p\n</code></pre> <p>Inside MySQL shell:</p> <pre><code>CREATE DATABASE cyberpatriot_runbook CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;\nCREATE USER 'cp_user'@'localhost' IDENTIFIED BY 'your-strong-password';\nGRANT ALL PRIVILEGES ON cyberpatriot_runbook.* TO 'cp_user'@'localhost';\nFLUSH PRIVILEGES;\n</code></pre> <p>If you plan to connect from another machine, grant to <code>%</code> and ensure MySQL listens on all interfaces:</p> <pre><code>CREATE USER 'cp_user'@'%' IDENTIFIED BY 'your-strong-password';\nGRANT ALL PRIVILEGES ON cyberpatriot_runbook.* TO 'cp_user'@'%';\nFLUSH PRIVILEGES;\n</code></pre>"},{"location":"pi-setup/#5-configure-the-database-url","title":"5. Configure the Database URL","text":"<p>The application reads the database connection from <code>DATABASE_URL</code>. Set it in your shell or add it to <code>/etc/environment</code> for persistence.</p> <p>Example for local MySQL:</p> <pre><code>export DATABASE_URL=\"mysql+pymysql://cp_user:your-strong-password@localhost:3306/cyberpatriot_runbook\"\n</code></pre> <p>To persist across reboots, add the line to <code>/etc/environment</code>:</p> <pre><code>echo 'DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@localhost:3306/cyberpatriot_runbook' | sudo tee -a /etc/environment\n</code></pre> <p>Log out/in or <code>source /etc/environment</code> to apply.</p> <p>Alternatively, you can edit <code>config.py</code> and set <code>DATABASE_URL</code> directly.</p>"},{"location":"pi-setup/#6-initialize-the-database-schema-alembic","title":"6. Initialize the Database Schema (Alembic)","text":"<p>Run Alembic migrations to create the tables:</p> <pre><code>alembic upgrade head\n</code></pre> <p>This will create the following tables and relationships: - users, teams, team_join_requests - checklists, checklist_items, checklist_status - readmes, notes (with encryption support) - audit_logs</p>"},{"location":"pi-setup/#7-run-the-application-gui","title":"7. Run the Application (GUI)","text":"<p>Launch the desktop application from the repository directory:</p> <pre><code>python3 main.py\n</code></pre> <p>You should see output similar to:</p> <pre><code>Initializing database: mysql+pymysql://cp_user:***@localhost:3306/cyberpatriot_runbook\nDatabase initialized successfully!\n</code></pre> <p>The PySide6 window should open if you\u2019re running in a graphical session on the Pi.</p>"},{"location":"pi-setup/#8-remote-database-access-optional","title":"8. Remote Database Access (Optional)","text":"<p>If you will run the GUI on another machine but use the Pi\u2019s MySQL: - Ensure MySQL listens on <code>0.0.0.0</code>:   - Edit <code>/etc/mysql/mysql.conf.d/mysqld.cnf</code>, set <code>bind-address = 0.0.0.0</code>   - Restart: <code>sudo systemctl restart mysql</code> - Open/allow TCP 3306 in CasaOS/iptables or restrict to your LAN. - Set <code>DATABASE_URL</code> on your desktop to point to the Pi IP:</p> <pre><code>export DATABASE_URL=\"mysql+pymysql://cp_user:your-strong-password@&lt;PI_IP&gt;:3306/cyberpatriot_runbook\"\n</code></pre>"},{"location":"pi-setup/#9-casaos-considerations","title":"9. CasaOS Considerations","text":"<ul> <li>CasaOS often manages services via containers; here we run the app directly on the host.</li> <li>Use system packages and environment variables as shown; avoid virtualenvs per your requirement.</li> <li>If you containerize later, reuse the same <code>DATABASE_URL</code> and run <code>alembic upgrade head</code> in the container.</li> </ul>"},{"location":"pi-setup/#10-troubleshooting","title":"10. Troubleshooting","text":"<ul> <li>Access denied:</li> <li>Verify <code>cp_user</code> credentials and privileges.</li> <li>Test: <code>mysql -h localhost -u cp_user -p</code></li> <li>Alembic/migration errors:</li> <li><code>alembic history</code>, <code>alembic current</code> to inspect.</li> <li><code>alembic downgrade -1</code> then <code>upgrade head</code> if needed.</li> <li>PySide6 display issues:</li> <li>Ensure you\u2019re in a graphical session (not headless).</li> <li>On headless, use X forwarding or run the app on a desktop pointing to Pi DB.</li> </ul>"},{"location":"pi-setup/#11-next-steps","title":"11. Next Steps","text":"<ul> <li>Create an admin account and log in to the Admin Dashboard.</li> <li>Create teams, approve join requests (admins/coaches), and start using checklists, READMEs, and notes.</li> </ul>"},{"location":"pi-setup/#documentation","title":"Documentation","text":"<ul> <li>Full project documentation: https://michael6gledhill.github.io/cyberpatriot-runbook/</li> <li>Local docs preview:</li> </ul> <pre><code>sudo pip3 install mkdocs mkdocs-material\nmkdocs serve\n</code></pre> <p>Open http://127.0.0.1:8000/ in your browser.</p>"},{"location":"roles/","title":"Roles &amp; Permissions","text":"Role Create Team Approve Users Approve Join Requests Manage Members View Audit Log Admin Yes Yes Yes Yes Yes Coach Yes Yes (team) Yes (team) Yes (team) Yes (team) Captain No Pending flow Pending flow Limited No Member No No Request join No No <p>Notes: - Admins can create teams and manage all users/teams. - Coaches can create teams; they are set as <code>created_by_user_id</code>. - Members/Captains require approval and cannot create teams.</p>"},{"location":"security/","title":"Security Notes","text":"<ul> <li>Passwords hashed with bcrypt (via PasswordManager).</li> <li>Encryption helpers use PBKDF2-HMAC for sensitive data.</li> <li>Roles stored as strings (<code>admin</code>, <code>coach</code>, <code>captain</code>, <code>member</code>).</li> <li>Sessions managed per repository call; relationships are eager-loaded to avoid detached errors.</li> <li>Audit logs capture key actions (create/update/delete where implemented).</li> </ul> <p>Recommendations: - Rotate DB credentials for production. - Enforce SSL/TLS on MySQL in production. - Add rate limiting or CAPTCHA to signup/login in future.</p>"},{"location":"setup/","title":"Setup","text":""},{"location":"setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.13</li> <li>MySQL server</li> <li>pip and virtualenv (recommended)</li> </ul>"},{"location":"setup/#install","title":"Install","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"setup/#database","title":"Database","text":"<ol> <li>Create database <code>cyberpatriot_runbook</code> in MySQL.</li> <li>Update credentials in <code>config.py</code> if needed (default root/h0gBog89!).</li> <li>Initialize schema:</li> </ol> <pre><code>python init_database.py\n</code></pre>"},{"location":"setup/#run-app","title":"Run App","text":"<pre><code>python main.py\n</code></pre>"},{"location":"setup/#environment","title":"Environment","text":"<ul> <li>GUI: PySide6</li> <li>ORM: SQLAlchemy 2.x</li> <li>Encryption: bcrypt + PBKDF2-HMAC</li> </ul>"},{"location":"teams/","title":"Teams &amp; Requests","text":""},{"location":"teams/#create-team-coachadmin","title":"Create Team (Coach/Admin)","text":"<ul> <li>Open the Team Management/Coach dashboard \u2192 Create New Team.</li> <li>Enter Name, Team ID (NN-NNNN), Division.</li> <li>The creator is stored as <code>created_by_user_id</code> automatically.</li> </ul>"},{"location":"teams/#join-existing-team","title":"Join Existing Team","text":"<ul> <li>Enter Team ID \u2192 send join request to the team creator.</li> <li>Duplicate requests are prevented.</li> </ul>"},{"location":"teams/#edit-team-admin","title":"Edit Team (Admin)","text":"<ul> <li>Select a team in Admin dashboard \u2192 Edit Team \u2192 change name/division.</li> </ul>"},{"location":"teams/#delete-team-admin","title":"Delete Team (Admin)","text":"<ul> <li>Select a team \u2192 Delete; removes team and members (use carefully).</li> </ul>"},{"location":"teams/#approval-flow","title":"Approval Flow","text":"<ul> <li>Pending users/requests appear in dashboards for approval/rejection.</li> </ul>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#login-issues","title":"Login issues","text":"<ul> <li>Verify email/password; use Copy button on errors.</li> <li>Admin/Coach auto-approve; others may be pending approval.</li> </ul>"},{"location":"troubleshooting/#team-creation","title":"Team creation","text":"<ul> <li>Ensure Team ID format NN-NNNN.</li> <li>Creator is set automatically (admin/coach); if missing, update to latest code.</li> </ul>"},{"location":"troubleshooting/#join-requests","title":"Join requests","text":"<ul> <li>Duplicate requests are blocked; check pending requests table.</li> </ul>"},{"location":"troubleshooting/#detached-session-errors","title":"Detached session errors","text":"<ul> <li>Fixed by eager-loading relationships in repositories. Update to latest code if seen.</li> </ul>"},{"location":"troubleshooting/#database","title":"Database","text":"<ul> <li>Confirm MySQL running and credentials in <code>config.py</code>.</li> <li>Re-run <code>init_database.py</code> if schema mismatch.</li> </ul>"},{"location":"usage/","title":"Usage Guide","text":""},{"location":"usage/#login","title":"Login","text":"<ul> <li>Enter email and password, press Enter or click Login.</li> <li>Errors and warnings can be copied via the Copy button in dialogs.</li> </ul>"},{"location":"usage/#signup","title":"Signup","text":"<ol> <li>Choose Account Type (Competitor, Captain, Coach, Mentor, Admin).</li> <li>Enter name, email, password, confirm.</li> <li>For competitor/captain, provide Team ID (NN-NNNN) or request later.</li> <li>Admin/Coach are auto-approved and auto-logged-in after signup.</li> </ol>"},{"location":"usage/#navigation","title":"Navigation","text":"<ul> <li>After login, you are routed to a dashboard based on role.</li> <li>Logout via the top-right button in each dashboard.</li> </ul>"},{"location":"usage/#teams","title":"Teams","text":"<ul> <li>Coaches/Admins can create teams; creator is recorded automatically.</li> <li>Join requests can be sent to team creators.</li> </ul>"},{"location":"usage/#copying-errors","title":"Copying Errors","text":"<ul> <li>Any popup has selectable text and a Copy button to copy the message.</li> </ul>"}]}