{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#cyberpatriot-runbook-documentation","title":"CyberPatriot Runbook Documentation","text":"<p>Professional user and operator guide for the CyberPatriot Runbook desktop application.</p> <p>This site covers installation, configuration, role-based workflows, and troubleshooting. The app is a PySide6 desktop client using MySQL with SQLAlchemy and Alembic.</p> <p>View the source on GitHub: https://github.com/michael6gledhill/cyberpatriot-runbook</p>"},{"location":"#quick-start","title":"Quick Start","text":"<ul> <li>Install Python dependencies: <code>pip install -r requirements.txt</code></li> <li>Configure <code>DATABASE_URL</code> (MySQL): see Setup</li> <li>Initialize DB schema: <code>alembic upgrade head</code></li> <li>Launch: <code>python main.py</code></li> </ul>"},{"location":"#what-youll-find-here","title":"What You\u2019ll Find Here","text":"<ul> <li>Overview: architecture, roles, and data flow</li> <li>Setup: environment, database, and migration steps</li> <li>Usage: login/sign-up, dashboards, approvals, and daily tasks</li> <li>Roles: capabilities for Admin, Coach, Captain, Member</li> <li>Teams: creation, join requests, and member lifecycle</li> <li>Dashboards: Admin/Coach/Member features</li> <li>Security: hashing, encryption, and best practices</li> <li>Troubleshooting: common issues and fixes</li> </ul>"},{"location":"#support-contributions","title":"Support &amp; Contributions","text":"<ul> <li>Open an issue or pull request on GitHub</li> <li>Follow conventional commits and include clear reproduction steps for bugs</li> </ul>"},{"location":"#local-docs-preview","title":"Local Docs Preview","text":"<pre><code>pip install mkdocs mkdocs-material\nmkdocs serve\n</code></pre> <p>The documentation will be available at http://127.0.0.1:8000/ while serving.</p>"},{"location":"app-architecture/","title":"CyberPatriot Runbook \u2014 App Architecture (AI-Repro Prompt)","text":"<p>This page concisely documents the entire app so someone (or an AI) can recreate it from scratch. It prioritizes clarity and breadth while staying compact.</p>"},{"location":"app-architecture/#goals","title":"Goals","text":"<ul> <li>Desktop GUI for CyberPatriot team management: users, teams, approvals, checklists, READMEs, notes.</li> <li>MySQL backend with reliable migrations and a simple remote setup (Ubuntu Docker).</li> <li>Role-based dashboards: Admin, Coach, Captain, Competitor, Mentor.</li> </ul>"},{"location":"app-architecture/#tech-stack","title":"Tech Stack","text":"<ul> <li>GUI: PySide6</li> <li>ORM: SQLAlchemy 2.x</li> <li>Migrations: Alembic</li> <li>DB Driver: PyMySQL</li> <li>Security: bcrypt (passwords), optional cryptography for note encryption</li> <li>Config: <code>.env</code> with <code>DATABASE_URL</code> or in-app Settings dialog</li> </ul>"},{"location":"app-architecture/#data-model-tables-relationships","title":"Data Model (tables + relationships)","text":"<ul> <li><code>users</code></li> <li>id, name, email (unique), password_hash, role (<code>member|captain|coach|admin</code>), team_id (FK teams.id), is_approved, is_active, created_at, updated_at</li> <li>relationships: <code>team</code> (many-to-one Team), <code>created_teams</code> (one-to-many Team), <code>join_requests</code>, <code>audit_logs</code></li> <li><code>teams</code></li> <li>id, name, team_id (NN-NNNN unique), division, created_by_user_id (FK users.id), created_at, updated_at</li> <li>relationships: <code>members</code> (one-to-many User), <code>creator</code> (User), <code>readmes</code>, <code>notes</code></li> <li><code>checklists</code>, <code>checklist_items</code>, <code>checklist_status</code></li> <li>checklist_items belong to a checklist; checklist_status belongs to (user, checklist_item) with <code>status</code> and <code>notes</code></li> <li><code>readmes</code> (team docs): id, team_id, author_user_id, title, os_type, content</li> <li><code>notes</code> (optionally encrypted): id, team_id, author_user_id, title, note_type, content</li> <li><code>audit_logs</code>: id, user_id, action, resource_type, resource_id, description, created_at</li> <li><code>team_join_requests</code>: id, team_id, requester_user_id, team_creator_user_id, status (<code>pending|approved|rejected</code>), message, created_at</li> </ul>"},{"location":"app-architecture/#repositories-service-layer","title":"Repositories (service layer)","text":"<p>All CRUD and domain operations live in <code>app/database/repositories.py</code> using a global session factory (<code>app/database/__init__.py</code>). Key methods: - <code>UserRepository</code>   - <code>create_user(name, email, password_hash, team_id, role)</code> \u2192 auto-approve admins   - <code>get_user_by_email</code>, <code>get_user_by_id</code>, <code>get_all_users</code>, <code>get_pending_users</code>   - <code>approve_user(user_id)</code>, <code>reject_user(user_id)</code>, <code>delete_user(user_id)</code> (hard delete), <code>update_user_role(user_id, role)</code> - <code>TeamRepository</code>   - <code>create_team(name, team_id, division, created_by_user_id)</code> \u2192 if creator is coach, auto-assign them to the team and approve   - <code>get_team_by_team_id</code>, <code>get_team_by_id</code>, <code>get_all_teams</code>, <code>get_teams_by_creator(creator_id)</code>, <code>update_team</code>, <code>delete_team</code> - <code>ChecklistRepository</code> / <code>ReadMeRepository</code> / <code>NoteRepository</code>   - CRUD for their respective resources and linking to teams/users - <code>AuditLogRepository</code>   - <code>log_action(user_id, action, resource_type, resource_id?, description?)</code> - <code>TeamJoinRequestRepository</code>   - <code>create_request(team_id, requester_user_id, team_creator_user_id, message)</code>   - <code>approve_request(id)</code> (sets requester approved and attaches to team)   - <code>reject_request(id)</code>   - <code>get_pending_requests_for_creator(user_id)</code>, <code>get_pending_requests_for_team(team_id)</code></p>"},{"location":"app-architecture/#configuration-db-setup","title":"Configuration &amp; DB Setup","text":"<ul> <li><code>.env</code> with <code>DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@SERVER_IP:3306/cyberpatriot_runbook</code></li> <li>Alembic prefers environment variable; run <code>alembic upgrade head</code> after setting.</li> <li>Ubuntu backend via Docker Compose (see <code>backend-ubuntu.md</code>): single MySQL service with a persistent volume.</li> </ul>"},{"location":"app-architecture/#gui-structure","title":"GUI Structure","text":"<ul> <li><code>MainWindow</code> (QStackedWidget): switches between Login and role dashboards.</li> <li><code>LoginWindow</code> (QMainWindow): tabs for Login, Sign Up, Documentation, and a Settings button.</li> <li>Settings dialog (<code>app/gui/dialogs/settings_dialog.py</code>): Host/IP, Port, Username, Password, Database \u2192 builds <code>DATABASE_URL</code>, tests connection, writes <code>.env</code>, and reinitializes DB.</li> <li>Dashboards:</li> <li>Admin: team management (create/edit/delete), user approvals, member management (approve/change role/delete), audit log.</li> <li>Coach: my teams (create/join), team members, join requests, activity log. Creating a team auto-adds coach to the team.</li> <li>Captain: checklists, READMEs, notes; team members (Approve/Reject competitors); join requests with pending count badge.</li> <li>Member/Competitor: checklists, READMEs, notes; join requests.</li> </ul>"},{"location":"app-architecture/#key-user-flows","title":"Key User Flows","text":"<ul> <li>Signup:</li> <li>Admin/Coach auto-login; others pending approval.</li> <li>Captains must provide an existing Team ID (NN-NNNN).</li> <li>Approvals:</li> <li>Admin can approve/reject/delete any user; sees team association.</li> <li>Coach can approve team members and handle join requests to their teams.</li> <li>Captain can approve competitors via Team Members and Join Requests.</li> <li>Team Creation:</li> <li>Coach creating a team is auto-assigned (<code>user.team_id = team.id</code>) and approved.</li> <li>Settings:</li> <li>From Login, configure backend DB and persist to <code>.env</code>. Connection test required for save.</li> </ul>"},{"location":"app-architecture/#security","title":"Security","text":"<ul> <li>Passwords hashed with bcrypt; <code>PasswordManager.verify_password</code> on login.</li> <li>Optional encryption for notes via a symmetric key.</li> <li>Audit logging for admin actions: approve/reject/change role/delete.</li> </ul>"},{"location":"app-architecture/#minimal-files-to-recreate","title":"Minimal Files to Recreate","text":"<ul> <li>Models: <code>app/models/user.py</code>, <code>team.py</code>, <code>checklist.py</code>, <code>readme.py</code>, <code>note.py</code>, <code>audit_log.py</code>, <code>team_join_request.py</code></li> <li>DB init: <code>app/database/__init__.py</code></li> <li>Repos: <code>app/database/repositories.py</code></li> <li>GUI: <code>app/gui/login_window.py</code>, <code>main_window.py</code>, <code>admin_dashboard.py</code>, <code>coach_dashboard.py</code>, <code>member_dashboard.py</code>, <code>competitor_dashboard.py</code>, <code>mentor_dashboard.py</code>, <code>dialogs/settings_dialog.py</code></li> <li>Entry: <code>main.py</code> (reads <code>DATABASE_URL</code>, calls <code>init_db</code>, launches <code>MainWindow</code>)</li> <li>Migrations: <code>alembic/</code> with <code>env.py</code> preferring env var and versions</li> </ul>"},{"location":"app-architecture/#build-run","title":"Build &amp; Run","text":"<pre><code># Install\npip install -r requirements.txt\n\n# Set DB and migrate\nset DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@SERVER_IP:3306/cyberpatriot_runbook\nalembic upgrade head\n\n# Run\npython main.py\n</code></pre>"},{"location":"app-architecture/#prompt-for-ai-recreation","title":"Prompt for AI Recreation","text":"<p>\u201cBuild a PySide6 desktop app \u2018CyberPatriot Runbook\u2019 with role-based dashboards (admin/coach/captain/member/competitor/mentor). Use SQLAlchemy 2.x with models and relationships as described, Alembic migrations, and PyMySQL. Implement repositories for Users, Teams, Checklists, READMEs, Notes, AuditLogs, JoinRequests with methods listed. Add a Login window with Sign Up, Settings (to configure <code>DATABASE_URL</code>, test connection, save to <code>.env</code>), and a Documentation tab. Implement Admin dashboard for team/user management with delete/change role and audit logging; Coach dashboard for team creation (auto-assign coach), members, join requests; Captain dashboard with members approval for competitors and join requests with a pending badge; Member/Competitor dashboards for checklists, READMEs, notes. Provide quick-start commands and make configuration via <code>.env</code>.\u201d</p>"},{"location":"backend-ubuntu/","title":"Ubuntu Server Backend (Docker)","text":"<p>This guide gets your backend running on Ubuntu Server using Docker in minutes, then connects your Windows/macOS desktop app to it.</p>"},{"location":"backend-ubuntu/#1-install-docker-engine","title":"1) Install Docker Engine","text":"<pre><code>sudo apt update\nsudo apt install -y ca-certificates curl\nsudo install -m 0755 -d /etc/apt/keyrings\ncurl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg\necho \"deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(. /etc/os-release; echo $VERSION_CODENAME) stable\" | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null\nsudo apt update\nsudo apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin\n</code></pre> <p>Verify Docker:</p> <pre><code>docker version\n</code></pre>"},{"location":"backend-ubuntu/#2-start-mysql-with-docker-compose","title":"2) Start MySQL with Docker Compose","text":"<pre><code>mkdir -p ~/cyberpatriot-backend &amp;&amp; cd ~/cyberpatriot-backend\ncat &gt; docker-compose.yml &lt;&lt; 'YML'\nservices:\n  db:\n    image: mysql:8.0\n    restart: unless-stopped\n    environment:\n      MYSQL_DATABASE: cyberpatriot_runbook\n      MYSQL_USER: cp_user\n      MYSQL_PASSWORD: your-strong-password\n      MYSQL_ROOT_PASSWORD: your-strong-root-password\n    ports:\n      - \"3306:3306\"\n    command: [\"--character-set-server=utf8mb4\", \"--collation-server=utf8mb4_0900_ai_ci\"]\n    volumes:\n      - db_data:/var/lib/mysql\nvolumes:\n  db_data:\nYML\n\ndocker compose up -d\n</code></pre> <p>Note your server IP:</p> <pre><code>hostname -I\n</code></pre>"},{"location":"backend-ubuntu/#3-windowsmacos-client-setup","title":"3) Windows/macOS client setup","text":"<p>Clone and install dependencies:</p> <pre><code>git clone https://github.com/michael6gledhill/cyberpatriot-runbook.git\ncd cyberpatriot-runbook\npip install -r requirements.txt\n</code></pre> <p>Set your <code>DATABASE_URL</code> (Windows cmd):</p> <pre><code>set DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@SERVER_IP:3306/cyberpatriot_runbook\n</code></pre> <ul> <li>Replace <code>SERVER_IP</code> with your Ubuntu server IP.</li> <li>Escaping: use <code>^</code> before <code>&amp;</code> or <code>|</code> if present in the password; avoid <code>!</code> with delayed expansion.</li> </ul> <p>Initialize the schema:</p> <pre><code>alembic upgrade head\n</code></pre> <p>Run the app:</p> <pre><code>python main.py\n</code></pre>"},{"location":"backend-ubuntu/#4-optional-persist-config-via-env","title":"4) Optional: persist config via .env","text":"<p>Create a <code>.env</code> file in the repo root:</p> <pre><code>DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@SERVER_IP:3306/cyberpatriot_runbook\n</code></pre> <p>The app and Alembic will use this automatically when <code>DATABASE_URL</code> is not set in the environment.</p>"},{"location":"backend-ubuntu/#5-firewall-connectivity","title":"5) Firewall &amp; connectivity","text":"<ul> <li>Ensure port <code>3306</code> is reachable on your LAN.</li> <li>If using UFW:</li> </ul> <pre><code>sudo ufw allow 3306/tcp\nsudo ufw status\n</code></pre> <ul> <li>Confirm from Windows:</li> </ul> <pre><code>Test-NetConnection -ComputerName SERVER_IP -Port 3306\n</code></pre>"},{"location":"backend-ubuntu/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Authentication fails or approvals error: update to latest app and run <code>alembic upgrade head</code> to apply migrations.</li> <li>Alembic complains about URL: ensure <code>DATABASE_URL</code> is set in current shell or <code>.env</code> exists.</li> <li>Connection refused: check <code>docker compose ps</code> and MySQL logs with <code>docker compose logs -f db</code>.</li> <li>Password special characters: prefer <code>.env</code> to avoid cmd escaping issues.</li> </ul>"},{"location":"dashboards/","title":"Dashboards","text":""},{"location":"dashboards/#admin-dashboard","title":"Admin Dashboard","text":"<ul> <li>Team Management: create/edit/delete teams, view members.</li> <li>User Approvals: approve/reject pending users.</li> <li>Member Management: view members, change roles (where implemented).</li> <li>Activity Log: shows recent audit entries.</li> </ul>"},{"location":"dashboards/#coach-dashboard","title":"Coach Dashboard","text":"<ul> <li>My Teams: create teams, join existing teams, see members.</li> <li>Team Members: manage approvals (coach scope).</li> <li>Join Requests: approve/reject join requests.</li> <li>Activity Log: coach-scoped logs.</li> </ul>"},{"location":"dashboards/#member-dashboard","title":"Member Dashboard","text":"<ul> <li>Status banner shows team membership/approval state.</li> <li>Tabs: Checklists, READMEs, Notes (per user/team where relevant).</li> </ul>"},{"location":"overview/","title":"Overview","text":"<p>CyberPatriot Runbook is a desktop application (PySide6) that helps teams manage roles, teams, join requests, checklists, notes, and audit logs for CyberPatriot competitions. It uses MySQL with SQLAlchemy, a repository layer, and role-aware dashboards for admins, coaches, captains, and members.</p>"},{"location":"overview/#architecture","title":"Architecture","text":"<ul> <li>UI: PySide6 (Qt) with dedicated dashboards per role</li> <li>Backend: SQLAlchemy ORM with repository layer</li> <li>Database: MySQL (schema in <code>database_setup.sql</code>)</li> <li>Security: bcrypt-based hashing, PBKDF2-HMAC encryption helpers</li> <li>Roles: <code>admin</code>, <code>coach</code>, <code>captain</code>, <code>member</code></li> </ul>"},{"location":"overview/#key-features","title":"Key Features","text":"<ul> <li>Account creation with role selection and approval flow</li> <li>Team creation, join requests, and membership approvals</li> <li>Dashboards tailored to role capabilities</li> <li>Checklists, READMEs, notes, and audit logging</li> <li>MySQL-backed data persistence with repositories</li> </ul>"},{"location":"overview/#data-flow","title":"Data Flow","text":"<ol> <li>UI triggers repository calls (no direct session handling in UI).</li> <li>Repositories open/close sessions and return ORM objects (with eager-loaded relationships).</li> <li>GUI displays data and emits actions back to repositories/controllers.</li> </ol>"},{"location":"pi-setup/","title":"Ubuntu Server Backend Setup (Docker)","text":"<p>This guide sets up the backend database on Ubuntu Server in the simplest, safest way possible. You don\u2019t need prior experience. Just follow the steps exactly and copy the commands.</p> <p>What we\u2019ll do: - Install Docker (a safe app runner) - Start the database with one command - Point your computer\u2019s app to that server</p> <p>View the source on GitHub: https://github.com/michael6gledhill/cyberpatriot-runbook</p>"},{"location":"pi-setup/#what-runs-where","title":"What Runs Where","text":"<ul> <li>Ubuntu Server: MySQL server (database backend) via Docker Compose</li> <li>Local computers: CyberPatriot Runbook desktop app (frontend) and Alembic migrations</li> </ul>"},{"location":"pi-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>An Ubuntu Server (connected to the internet)</li> <li>A local computer that will run the app (Windows/macOS/Linux)</li> </ul> <p>If you are on a home/school network, use a wired connection for the server if possible. Write down the server\u2019s IP address (you can find it with <code>ip a</code> or ask your network admin).</p>"},{"location":"pi-setup/#step-1-install-docker","title":"Step 1: Install Docker","text":"<p>Run these commands on the Ubuntu Server. Copy and paste exactly.</p> <pre><code>sudo apt update\nsudo apt install -y docker.io\nsudo systemctl enable --now docker\nsudo usermod -aG docker $USER\n</code></pre> <p>Now log out and log back in (this activates permissions). If you use SSH, close the window and reconnect.</p> <p>Optional: If <code>docker compose</code> is not found, install the plugin:</p> <pre><code>sudo apt install -y docker-compose-plugin\n</code></pre>"},{"location":"pi-setup/#step-2-start-the-database-mysql","title":"Step 2: Start the Database (MySQL)","text":"<p>On the Ubuntu Server, go to the folder where the file <code>docker-compose.yml</code> is located (the project root). If you don\u2019t have it on the server yet, you can copy it from your computer or clone the repository.</p> <p>Start the database:</p> <pre><code>docker compose up -d\n</code></pre> <p>This starts MySQL and saves data so it is not lost when the server restarts.</p> <p>Important passwords (you can change them later by editing <code>docker-compose.yml</code>): - <code>MYSQL_DATABASE=cyberpatriot_runbook</code> (database name) - <code>MYSQL_USER=cp_user</code> (username for the app) - <code>MYSQL_PASSWORD=your-strong-password</code> (change this to your own) - <code>MYSQL_ROOT_PASSWORD=change-this-root-password</code> (admin password for MySQL)</p> <p>To change credentials, edit <code>docker-compose.yml</code> and restart:</p> <pre><code>docker compose down\ndocker compose up -d\n</code></pre>"},{"location":"pi-setup/#step-3-prepare-the-database-from-your-computer","title":"Step 3: Prepare the Database (from your computer)","text":"<p>On your local computer, we will create the tables. Do this once.</p> <p>1) Download the app code:</p> <pre><code>git clone https://github.com/michael6gledhill/cyberpatriot-runbook.git\ncd cyberpatriot-runbook\npip install -r requirements.txt\n</code></pre> <p>2) Set the connection to the server database (replace <code>&lt;SERVER_IP&gt;</code> with your server\u2019s IP address):</p> <pre><code>set DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@&lt;SERVER_IP&gt;:3306/cyberpatriot_runbook\n</code></pre> <p>3) Create the tables:</p> <pre><code>alembic upgrade head\n</code></pre> <p>If you see \u201cNo 'script_location' key found\u201d, make sure you are in the folder that contains <code>alembic.ini</code> (the repository root), then run the command again.</p>"},{"location":"pi-setup/#step-4-run-the-app-on-your-computer","title":"Step 4: Run the App (on your computer)","text":"<p>Any computer can run the app. Repeat these steps on each computer that needs it.</p> <pre><code>git clone https://github.com/michael6gledhill/cyberpatriot-runbook.git\ncd cyberpatriot-runbook\npip install -r requirements.txt\nset DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@&lt;SERVER_IP&gt;:3306/cyberpatriot_runbook\npython main.py\n</code></pre> <p>First-time admin setup: - Create the initial admin account using the helper script:</p> <pre><code>cd cyberpatriot-runbook\nset DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@&lt;SERVER_IP&gt;:3306/cyberpatriot_runbook\nset DEFAULT_ADMIN_EMAIL=admin@cyberpatriot.local\nset DEFAULT_ADMIN_NAME=Admin User\nset DEFAULT_ADMIN_PASSWORD=Admin@123\npython scripts\\init_admin.py\n</code></pre> <p>You can omit <code>DEFAULT_ADMIN_PASSWORD</code> to be prompted securely.</p>"},{"location":"pi-setup/#optional-server-only-admin-tasks","title":"Optional: Server-only Admin Tasks","text":"<p>If you prefer to run the database setup from the server itself, set <code>DATABASE_URL</code> on the server:</p> <pre><code>echo 'DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@localhost:3306/cyberpatriot_runbook' | sudo tee -a /etc/environment\n</code></pre> <p>Log out/in or <code>source /etc/environment</code> to apply.</p>"},{"location":"pi-setup/#safety-and-network-tips","title":"Safety and Network Tips","text":"<ul> <li>Restrict MySQL access to your LAN/subnets as needed.</li> <li>Consider firewall rules allowing TCP 3306 only from trusted hosts.</li> <li>Use strong passwords and rotate credentials periodically.</li> <li>Keep your <code>MYSQL_ROOT_PASSWORD</code> private.</li> <li>Don\u2019t share the <code>DATABASE_URL</code> publicly.</li> </ul>"},{"location":"pi-setup/#check-can-your-computer-reach-the-server","title":"Check: Can your computer reach the server?","text":"<p>From your local computer, test connectivity:</p> <pre><code>mysql -h &lt;PI_IP&gt; -u cp_user -p\n</code></pre> <p>If successful, the app will work against the Ubuntu-hosted database.</p>"},{"location":"pi-setup/#docker-notes","title":"Docker Notes","text":"<ul> <li>The compose file exposes <code>3306:3306</code> for MySQL access.</li> <li>Data is persisted in the <code>db_data</code> Docker volume.</li> <li>To stop/start:</li> </ul> <pre><code>docker compose down\ndocker compose up -d\n</code></pre>"},{"location":"pi-setup/#frontend-tips","title":"Frontend Tips","text":"<ul> <li>Distribute the desktop app by cloning the repo on each local machine.</li> <li>Configure <code>DATABASE_URL</code> to point to the Pi\u2019s IP.</li> <li>Keep clients updated via <code>git pull</code> when you make changes.</li> </ul>"},{"location":"pi-setup/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Access denied:</li> <li>Verify <code>cp_user</code> credentials and privileges.<ul> <li>Test: <code>mysql -h &lt;SERVER_IP&gt; -u cp_user -p</code></li> </ul> </li> <li>Alembic/migration errors:</li> <li><code>alembic history</code>, <code>alembic current</code> to inspect.</li> <li><code>alembic downgrade -1</code> then <code>upgrade head</code> if needed.</li> <li>PySide6 display issues:</li> <li>Run the app on a local desktop; the Pi should only host MySQL.</li> </ul>"},{"location":"pi-setup/#next-steps","title":"Next Steps","text":"<ul> <li>On a local computer, run the desktop app and create an admin account.</li> <li>Configure teams and begin approvals; data persists on the Pi MySQL.</li> </ul>"},{"location":"pi-setup/#quick-checklist-copy-these-steps","title":"Quick Checklist (copy these steps)","text":"<ul> <li>On Ubuntu Server: install Docker and run <code>docker compose up -d</code>.</li> <li>On your computer: clone the repo and <code>pip install -r requirements.txt</code>.</li> <li>Set <code>DATABASE_URL</code> to point at the server IP.</li> <li>Run <code>alembic upgrade head</code> to create tables.</li> <li>Run <code>python main.py</code> to start the app.</li> <li>Create or initialize the admin user with <code>scripts\\init_admin.py</code>.</li> </ul>"},{"location":"pi-setup/#documentation","title":"Documentation","text":"<ul> <li>Full project documentation: https://michael6gledhill.github.io/cyberpatriot-runbook/</li> <li>View the source on GitHub: https://github.com/michael6gledhill/cyberpatriot-runbook</li> <li>Local docs preview:</li> </ul> <pre><code>sudo pip3 install mkdocs mkdocs-material\nmkdocs serve\n</code></pre> <p>Open http://127.0.0.1:8000/ in your browser.</p>"},{"location":"roles/","title":"Roles &amp; Permissions","text":"Role Create Team Approve Users Approve Join Requests Manage Members View Audit Log Admin Yes Yes Yes Yes Yes Coach Yes Yes (team) Yes (team) Yes (team) Yes (team) Captain No Pending flow Pending flow Limited No Member No No Request join No No <p>Notes: - Admins can create teams and manage all users/teams. - Coaches can create teams; they are set as <code>created_by_user_id</code>. - Members/Captains require approval and cannot create teams.</p>"},{"location":"security/","title":"Security Notes","text":"<ul> <li>Passwords hashed with bcrypt (via PasswordManager).</li> <li>Encryption helpers use PBKDF2-HMAC for sensitive data.</li> <li>Roles stored as strings (<code>admin</code>, <code>coach</code>, <code>captain</code>, <code>member</code>).</li> <li>Sessions managed per repository call; relationships are eager-loaded to avoid detached errors.</li> <li>Audit logs capture key actions (create/update/delete where implemented).</li> </ul> <p>Recommendations: - Rotate DB credentials for production. - Enforce SSL/TLS on MySQL in production. - Add rate limiting or CAPTCHA to signup/login in future.</p>"},{"location":"setup/","title":"Setup","text":""},{"location":"setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.13</li> <li>MySQL server</li> <li>pip and virtualenv (recommended)</li> </ul>"},{"location":"setup/#install","title":"Install","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"setup/#database","title":"Database","text":"<ol> <li>Create database <code>cyberpatriot_runbook</code> in MySQL.</li> <li>Update credentials in <code>config.py</code> if needed (default root/h0gBog89!).</li> <li>Initialize schema:</li> </ol> <pre><code>python init_database.py\n</code></pre>"},{"location":"setup/#run-app","title":"Run App","text":"<pre><code>python main.py\n</code></pre>"},{"location":"setup/#environment","title":"Environment","text":"<ul> <li>GUI: PySide6</li> <li>ORM: SQLAlchemy 2.x</li> <li>Encryption: bcrypt + PBKDF2-HMAC</li> </ul>"},{"location":"teams/","title":"Teams &amp; Requests","text":""},{"location":"teams/#create-team-coachadmin","title":"Create Team (Coach/Admin)","text":"<ul> <li>Open the Team Management/Coach dashboard \u2192 Create New Team.</li> <li>Enter Name, Team ID (NN-NNNN), Division.</li> <li>The creator is stored as <code>created_by_user_id</code> automatically.</li> </ul>"},{"location":"teams/#join-existing-team","title":"Join Existing Team","text":"<ul> <li>Enter Team ID \u2192 send join request to the team creator.</li> <li>Duplicate requests are prevented.</li> </ul>"},{"location":"teams/#edit-team-admin","title":"Edit Team (Admin)","text":"<ul> <li>Select a team in Admin dashboard \u2192 Edit Team \u2192 change name/division.</li> </ul>"},{"location":"teams/#delete-team-admin","title":"Delete Team (Admin)","text":"<ul> <li>Select a team \u2192 Delete; removes team and members (use carefully).</li> </ul>"},{"location":"teams/#approval-flow","title":"Approval Flow","text":"<ul> <li>Pending users/requests appear in dashboards for approval/rejection.</li> </ul>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#login-issues","title":"Login issues","text":"<ul> <li>Verify email/password; use Copy button on errors.</li> <li>Admin/Coach auto-approve; others may be pending approval.</li> </ul>"},{"location":"troubleshooting/#team-creation","title":"Team creation","text":"<ul> <li>Ensure Team ID format NN-NNNN.</li> <li>Creator is set automatically (admin/coach); if missing, update to latest code.</li> </ul>"},{"location":"troubleshooting/#join-requests","title":"Join requests","text":"<ul> <li>Duplicate requests are blocked; check pending requests table.</li> </ul>"},{"location":"troubleshooting/#detached-session-errors","title":"Detached session errors","text":"<ul> <li>Fixed by eager-loading relationships in repositories. Update to latest code if seen.</li> </ul>"},{"location":"troubleshooting/#database","title":"Database","text":"<ul> <li>Confirm MySQL running and credentials in <code>config.py</code>.</li> <li>Re-run <code>init_database.py</code> if schema mismatch.</li> </ul>"},{"location":"usage/","title":"Usage Guide","text":""},{"location":"usage/#login","title":"Login","text":"<ul> <li>Enter email and password, press Enter or click Login.</li> <li>Errors and warnings can be copied via the Copy button in dialogs.</li> </ul>"},{"location":"usage/#signup","title":"Signup","text":"<ol> <li>Choose Account Type (Competitor, Captain, Coach, Mentor, Admin).</li> <li>Enter name, email, password, confirm.</li> <li>For competitor/captain, provide Team ID (NN-NNNN) or request later.</li> <li>Admin/Coach are auto-approved and auto-logged-in after signup.</li> </ol>"},{"location":"usage/#navigation","title":"Navigation","text":"<ul> <li>After login, you are routed to a dashboard based on role.</li> <li>Logout via the top-right button in each dashboard.</li> </ul>"},{"location":"usage/#teams","title":"Teams","text":"<ul> <li>Coaches/Admins can create teams; creator is recorded automatically.</li> <li>Join requests can be sent to team creators.</li> </ul>"},{"location":"usage/#copying-errors","title":"Copying Errors","text":"<ul> <li>Any popup has selectable text and a Copy button to copy the message.</li> </ul>"}]}