{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Home","text":""},{"location":"#cyberpatriot-runbook-documentation","title":"CyberPatriot Runbook Documentation","text":"<p>Professional user and operator guide for the CyberPatriot Runbook desktop application.</p> <p>This site covers installation, configuration, role-based workflows, and troubleshooting. The app is a PySide6 desktop client using MySQL with SQLAlchemy and Alembic.</p> <p>View the source on GitHub: https://github.com/michael6gledhill/cyberpatriot-runbook</p>"},{"location":"#quick-start","title":"Quick Start","text":"<ul> <li>Install Python dependencies: <code>pip install -r requirements.txt</code></li> <li>Configure <code>DATABASE_URL</code> (MySQL): see Setup</li> <li>Initialize DB schema: <code>alembic upgrade head</code></li> <li>Launch: <code>python main.py</code></li> </ul>"},{"location":"#what-youll-find-here","title":"What You\u2019ll Find Here","text":"<ul> <li>Overview: architecture, roles, and data flow</li> <li>Setup: environment, database, and migration steps</li> <li>Usage: login/sign-up, dashboards, approvals, and daily tasks</li> <li>Roles: capabilities for Admin, Coach, Captain, Member</li> <li>Teams: creation, join requests, and member lifecycle</li> <li>Dashboards: Admin/Coach/Member features</li> <li>Security: hashing, encryption, and best practices</li> <li>Troubleshooting: common issues and fixes</li> </ul>"},{"location":"#support-contributions","title":"Support &amp; Contributions","text":"<ul> <li>Open an issue or pull request on GitHub</li> <li>Follow conventional commits and include clear reproduction steps for bugs</li> </ul>"},{"location":"#local-docs-preview","title":"Local Docs Preview","text":"<pre><code>pip install mkdocs mkdocs-material\nmkdocs serve\n</code></pre> <p>The documentation will be available at http://127.0.0.1:8000/ while serving.</p>"},{"location":"dashboards/","title":"Dashboards","text":""},{"location":"dashboards/#admin-dashboard","title":"Admin Dashboard","text":"<ul> <li>Team Management: create/edit/delete teams, view members.</li> <li>User Approvals: approve/reject pending users.</li> <li>Member Management: view members, change roles (where implemented).</li> <li>Activity Log: shows recent audit entries.</li> </ul>"},{"location":"dashboards/#coach-dashboard","title":"Coach Dashboard","text":"<ul> <li>My Teams: create teams, join existing teams, see members.</li> <li>Team Members: manage approvals (coach scope).</li> <li>Join Requests: approve/reject join requests.</li> <li>Activity Log: coach-scoped logs.</li> </ul>"},{"location":"dashboards/#member-dashboard","title":"Member Dashboard","text":"<ul> <li>Status banner shows team membership/approval state.</li> <li>Tabs: Checklists, READMEs, Notes (per user/team where relevant).</li> </ul>"},{"location":"overview/","title":"Overview","text":"<p>CyberPatriot Runbook is a desktop application (PySide6) that helps teams manage roles, teams, join requests, checklists, notes, and audit logs for CyberPatriot competitions. It uses MySQL with SQLAlchemy, a repository layer, and role-aware dashboards for admins, coaches, captains, and members.</p>"},{"location":"overview/#architecture","title":"Architecture","text":"<ul> <li>UI: PySide6 (Qt) with dedicated dashboards per role</li> <li>Backend: SQLAlchemy ORM with repository layer</li> <li>Database: MySQL (schema in <code>database_setup.sql</code>)</li> <li>Security: bcrypt-based hashing, PBKDF2-HMAC encryption helpers</li> <li>Roles: <code>admin</code>, <code>coach</code>, <code>captain</code>, <code>member</code></li> </ul>"},{"location":"overview/#key-features","title":"Key Features","text":"<ul> <li>Account creation with role selection and approval flow</li> <li>Team creation, join requests, and membership approvals</li> <li>Dashboards tailored to role capabilities</li> <li>Checklists, READMEs, notes, and audit logging</li> <li>MySQL-backed data persistence with repositories</li> </ul>"},{"location":"overview/#data-flow","title":"Data Flow","text":"<ol> <li>UI triggers repository calls (no direct session handling in UI).</li> <li>Repositories open/close sessions and return ORM objects (with eager-loaded relationships).</li> <li>GUI displays data and emits actions back to repositories/controllers.</li> </ol>"},{"location":"pi-setup/","title":"Ubuntu Server Backend Setup (Docker)","text":"<p>This guide sets up the backend database on Ubuntu Server in the simplest, safest way possible. You don\u2019t need prior experience. Just follow the steps exactly and copy the commands.</p> <p>What we\u2019ll do: - Install Docker (a safe app runner) - Start the database with one command - Point your computer\u2019s app to that server</p> <p>View the source on GitHub: https://github.com/michael6gledhill/cyberpatriot-runbook</p>"},{"location":"pi-setup/#what-runs-where","title":"What Runs Where","text":"<ul> <li>Ubuntu Server: MySQL server (database backend) via Docker Compose</li> <li>Local computers: CyberPatriot Runbook desktop app (frontend) and Alembic migrations</li> </ul>"},{"location":"pi-setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>An Ubuntu Server (connected to the internet)</li> <li>A local computer that will run the app (Windows/macOS/Linux)</li> </ul> <p>If you are on a home/school network, use a wired connection for the server if possible. Write down the server\u2019s IP address (you can find it with <code>ip a</code> or ask your network admin).</p>"},{"location":"pi-setup/#step-1-install-docker","title":"Step 1: Install Docker","text":"<p>Run these commands on the Ubuntu Server. Copy and paste exactly.</p> <pre><code>sudo apt update\nsudo apt install -y docker.io\nsudo systemctl enable --now docker\nsudo usermod -aG docker $USER\n</code></pre> <p>Now log out and log back in (this activates permissions). If you use SSH, close the window and reconnect.</p> <p>Optional: If <code>docker compose</code> is not found, install the plugin:</p> <pre><code>sudo apt install -y docker-compose-plugin\n</code></pre>"},{"location":"pi-setup/#step-2-start-the-database-mysql","title":"Step 2: Start the Database (MySQL)","text":"<p>On the Ubuntu Server, go to the folder where the file <code>docker-compose.yml</code> is located (the project root). If you don\u2019t have it on the server yet, you can copy it from your computer or clone the repository.</p> <p>Start the database:</p> <pre><code>docker compose up -d\n</code></pre> <p>This starts MySQL and saves data so it is not lost when the server restarts.</p> <p>Important passwords (you can change them later by editing <code>docker-compose.yml</code>): - <code>MYSQL_DATABASE=cyberpatriot_runbook</code> (database name) - <code>MYSQL_USER=cp_user</code> (username for the app) - <code>MYSQL_PASSWORD=your-strong-password</code> (change this to your own) - <code>MYSQL_ROOT_PASSWORD=change-this-root-password</code> (admin password for MySQL)</p> <p>To change credentials, edit <code>docker-compose.yml</code> and restart:</p> <pre><code>docker compose down\ndocker compose up -d\n</code></pre>"},{"location":"pi-setup/#step-3-prepare-the-database-from-your-computer","title":"Step 3: Prepare the Database (from your computer)","text":"<p>On your local computer, we will create the tables. Do this once.</p> <p>1) Download the app code:</p> <pre><code>git clone https://github.com/michael6gledhill/cyberpatriot-runbook.git\ncd cyberpatriot-runbook\npip install -r requirements.txt\n</code></pre> <p>2) Set the connection to the server database (replace <code>&lt;SERVER_IP&gt;</code> with your server\u2019s IP address):</p> <pre><code>set DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@&lt;SERVER_IP&gt;:3306/cyberpatriot_runbook\n</code></pre> <p>3) Create the tables:</p> <pre><code>alembic upgrade head\n</code></pre> <p>If you see \u201cNo 'script_location' key found\u201d, make sure you are in the folder that contains <code>alembic.ini</code> (the repository root), then run the command again.</p>"},{"location":"pi-setup/#step-4-run-the-app-on-your-computer","title":"Step 4: Run the App (on your computer)","text":"<p>Any computer can run the app. Repeat these steps on each computer that needs it.</p> <pre><code>git clone https://github.com/michael6gledhill/cyberpatriot-runbook.git\ncd cyberpatriot-runbook\npip install -r requirements.txt\nset DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@&lt;SERVER_IP&gt;:3306/cyberpatriot_runbook\npython main.py\n</code></pre> <p>First-time admin setup: - Create the initial admin account using the helper script:</p> <pre><code>cd cyberpatriot-runbook\nset DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@&lt;SERVER_IP&gt;:3306/cyberpatriot_runbook\nset DEFAULT_ADMIN_EMAIL=admin@cyberpatriot.local\nset DEFAULT_ADMIN_NAME=Admin User\nset DEFAULT_ADMIN_PASSWORD=Admin@123\npython scripts\\init_admin.py\n</code></pre> <p>You can omit <code>DEFAULT_ADMIN_PASSWORD</code> to be prompted securely.</p>"},{"location":"pi-setup/#optional-server-only-admin-tasks","title":"Optional: Server-only Admin Tasks","text":"<p>If you prefer to run the database setup from the server itself, set <code>DATABASE_URL</code> on the server:</p> <pre><code>echo 'DATABASE_URL=mysql+pymysql://cp_user:your-strong-password@localhost:3306/cyberpatriot_runbook' | sudo tee -a /etc/environment\n</code></pre> <p>Log out/in or <code>source /etc/environment</code> to apply.</p>"},{"location":"pi-setup/#safety-and-network-tips","title":"Safety and Network Tips","text":"<ul> <li>Restrict MySQL access to your LAN/subnets as needed.</li> <li>Consider firewall rules allowing TCP 3306 only from trusted hosts.</li> <li>Use strong passwords and rotate credentials periodically.</li> <li>Keep your <code>MYSQL_ROOT_PASSWORD</code> private.</li> <li>Don\u2019t share the <code>DATABASE_URL</code> publicly.</li> </ul>"},{"location":"pi-setup/#check-can-your-computer-reach-the-server","title":"Check: Can your computer reach the server?","text":"<p>From your local computer, test connectivity:</p> <pre><code>mysql -h &lt;PI_IP&gt; -u cp_user -p\n</code></pre> <p>If successful, the app will work against the Ubuntu-hosted database.</p>"},{"location":"pi-setup/#docker-notes","title":"Docker Notes","text":"<ul> <li>The compose file exposes <code>3306:3306</code> for MySQL access.</li> <li>Data is persisted in the <code>db_data</code> Docker volume.</li> <li>To stop/start:</li> </ul> <pre><code>docker compose down\ndocker compose up -d\n</code></pre>"},{"location":"pi-setup/#frontend-tips","title":"Frontend Tips","text":"<ul> <li>Distribute the desktop app by cloning the repo on each local machine.</li> <li>Configure <code>DATABASE_URL</code> to point to the Pi\u2019s IP.</li> <li>Keep clients updated via <code>git pull</code> when you make changes.</li> </ul>"},{"location":"pi-setup/#troubleshooting","title":"Troubleshooting","text":"<ul> <li>Access denied:</li> <li>Verify <code>cp_user</code> credentials and privileges.<ul> <li>Test: <code>mysql -h &lt;SERVER_IP&gt; -u cp_user -p</code></li> </ul> </li> <li>Alembic/migration errors:</li> <li><code>alembic history</code>, <code>alembic current</code> to inspect.</li> <li><code>alembic downgrade -1</code> then <code>upgrade head</code> if needed.</li> <li>PySide6 display issues:</li> <li>Run the app on a local desktop; the Pi should only host MySQL.</li> </ul>"},{"location":"pi-setup/#next-steps","title":"Next Steps","text":"<ul> <li>On a local computer, run the desktop app and create an admin account.</li> <li>Configure teams and begin approvals; data persists on the Pi MySQL.</li> </ul>"},{"location":"pi-setup/#quick-checklist-copy-these-steps","title":"Quick Checklist (copy these steps)","text":"<ul> <li>On Ubuntu Server: install Docker and run <code>docker compose up -d</code>.</li> <li>On your computer: clone the repo and <code>pip install -r requirements.txt</code>.</li> <li>Set <code>DATABASE_URL</code> to point at the server IP.</li> <li>Run <code>alembic upgrade head</code> to create tables.</li> <li>Run <code>python main.py</code> to start the app.</li> <li>Create or initialize the admin user with <code>scripts\\init_admin.py</code>.</li> </ul>"},{"location":"pi-setup/#documentation","title":"Documentation","text":"<ul> <li>Full project documentation: https://michael6gledhill.github.io/cyberpatriot-runbook/</li> <li>View the source on GitHub: https://github.com/michael6gledhill/cyberpatriot-runbook</li> <li>Local docs preview:</li> </ul> <pre><code>sudo pip3 install mkdocs mkdocs-material\nmkdocs serve\n</code></pre> <p>Open http://127.0.0.1:8000/ in your browser.</p>"},{"location":"roles/","title":"Roles &amp; Permissions","text":"Role Create Team Approve Users Approve Join Requests Manage Members View Audit Log Admin Yes Yes Yes Yes Yes Coach Yes Yes (team) Yes (team) Yes (team) Yes (team) Captain No Pending flow Pending flow Limited No Member No No Request join No No <p>Notes: - Admins can create teams and manage all users/teams. - Coaches can create teams; they are set as <code>created_by_user_id</code>. - Members/Captains require approval and cannot create teams.</p>"},{"location":"security/","title":"Security Notes","text":"<ul> <li>Passwords hashed with bcrypt (via PasswordManager).</li> <li>Encryption helpers use PBKDF2-HMAC for sensitive data.</li> <li>Roles stored as strings (<code>admin</code>, <code>coach</code>, <code>captain</code>, <code>member</code>).</li> <li>Sessions managed per repository call; relationships are eager-loaded to avoid detached errors.</li> <li>Audit logs capture key actions (create/update/delete where implemented).</li> </ul> <p>Recommendations: - Rotate DB credentials for production. - Enforce SSL/TLS on MySQL in production. - Add rate limiting or CAPTCHA to signup/login in future.</p>"},{"location":"setup/","title":"Setup","text":""},{"location":"setup/#prerequisites","title":"Prerequisites","text":"<ul> <li>Python 3.13</li> <li>MySQL server</li> <li>pip and virtualenv (recommended)</li> </ul>"},{"location":"setup/#install","title":"Install","text":"<pre><code>pip install -r requirements.txt\n</code></pre>"},{"location":"setup/#database","title":"Database","text":"<ol> <li>Create database <code>cyberpatriot_runbook</code> in MySQL.</li> <li>Update credentials in <code>config.py</code> if needed (default root/h0gBog89!).</li> <li>Initialize schema:</li> </ol> <pre><code>python init_database.py\n</code></pre>"},{"location":"setup/#run-app","title":"Run App","text":"<pre><code>python main.py\n</code></pre>"},{"location":"setup/#environment","title":"Environment","text":"<ul> <li>GUI: PySide6</li> <li>ORM: SQLAlchemy 2.x</li> <li>Encryption: bcrypt + PBKDF2-HMAC</li> </ul>"},{"location":"teams/","title":"Teams &amp; Requests","text":""},{"location":"teams/#create-team-coachadmin","title":"Create Team (Coach/Admin)","text":"<ul> <li>Open the Team Management/Coach dashboard \u2192 Create New Team.</li> <li>Enter Name, Team ID (NN-NNNN), Division.</li> <li>The creator is stored as <code>created_by_user_id</code> automatically.</li> </ul>"},{"location":"teams/#join-existing-team","title":"Join Existing Team","text":"<ul> <li>Enter Team ID \u2192 send join request to the team creator.</li> <li>Duplicate requests are prevented.</li> </ul>"},{"location":"teams/#edit-team-admin","title":"Edit Team (Admin)","text":"<ul> <li>Select a team in Admin dashboard \u2192 Edit Team \u2192 change name/division.</li> </ul>"},{"location":"teams/#delete-team-admin","title":"Delete Team (Admin)","text":"<ul> <li>Select a team \u2192 Delete; removes team and members (use carefully).</li> </ul>"},{"location":"teams/#approval-flow","title":"Approval Flow","text":"<ul> <li>Pending users/requests appear in dashboards for approval/rejection.</li> </ul>"},{"location":"troubleshooting/","title":"Troubleshooting","text":""},{"location":"troubleshooting/#login-issues","title":"Login issues","text":"<ul> <li>Verify email/password; use Copy button on errors.</li> <li>Admin/Coach auto-approve; others may be pending approval.</li> </ul>"},{"location":"troubleshooting/#team-creation","title":"Team creation","text":"<ul> <li>Ensure Team ID format NN-NNNN.</li> <li>Creator is set automatically (admin/coach); if missing, update to latest code.</li> </ul>"},{"location":"troubleshooting/#join-requests","title":"Join requests","text":"<ul> <li>Duplicate requests are blocked; check pending requests table.</li> </ul>"},{"location":"troubleshooting/#detached-session-errors","title":"Detached session errors","text":"<ul> <li>Fixed by eager-loading relationships in repositories. Update to latest code if seen.</li> </ul>"},{"location":"troubleshooting/#database","title":"Database","text":"<ul> <li>Confirm MySQL running and credentials in <code>config.py</code>.</li> <li>Re-run <code>init_database.py</code> if schema mismatch.</li> </ul>"},{"location":"usage/","title":"Usage Guide","text":""},{"location":"usage/#login","title":"Login","text":"<ul> <li>Enter email and password, press Enter or click Login.</li> <li>Errors and warnings can be copied via the Copy button in dialogs.</li> </ul>"},{"location":"usage/#signup","title":"Signup","text":"<ol> <li>Choose Account Type (Competitor, Captain, Coach, Mentor, Admin).</li> <li>Enter name, email, password, confirm.</li> <li>For competitor/captain, provide Team ID (NN-NNNN) or request later.</li> <li>Admin/Coach are auto-approved and auto-logged-in after signup.</li> </ol>"},{"location":"usage/#navigation","title":"Navigation","text":"<ul> <li>After login, you are routed to a dashboard based on role.</li> <li>Logout via the top-right button in each dashboard.</li> </ul>"},{"location":"usage/#teams","title":"Teams","text":"<ul> <li>Coaches/Admins can create teams; creator is recorded automatically.</li> <li>Join requests can be sent to team creators.</li> </ul>"},{"location":"usage/#copying-errors","title":"Copying Errors","text":"<ul> <li>Any popup has selectable text and a Copy button to copy the message.</li> </ul>"}]}